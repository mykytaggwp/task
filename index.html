<!DOCTYPE html>
<html>
<head>
    <title>task java</title>
</head>
<body>
    <h1>Перевірка наявності ніка гравця</h1>
    <p>Список ніків гравців: Mike, Alex, Anna, Nik, Elena</p>

    <input type="text" id="nicknameInput" placeholder="Введіть нік">
    <button onclick="checkNickname()">Перевірити</button>

    <input type="text" id="addNicknameInput" placeholder="Додати нік">
    <button onclick="addPlayer()">Додати гравця</button>

    <p id="result"></p>

    <script>
    
    let checkCount = 0;
    
    function generateCaptcha() {
        return Math.floor(10000 + Math.random() * 90000);
    }

    function checkCaptcha() {
        let correct = false;

        while (!correct) {

            const captchaNumber = generateCaptcha();

            const userAnswer = prompt(`Введіть число: ${captchaNumber}`);

            if (userAnswer !== null && parseInt(userAnswer) === captchaNumber) {
                alert("Правильно! Доступ надано.");
                correct = true;
            } else {
                alert("Неправильно! Спробуй ще раз.");
            }
        }
    }

        const playerNicknames = ["Mike", "Alex", "Anna", "Nik", "Elena"];

        function checkNickname() {
            const enteredNickname = document.getElementById("nicknameInput").value;
            const resultElement = document.getElementById("result");

            if (playerNicknames.includes(enteredNickname)) {
                resultElement.textContent = "Такий нік є в списку гравців.";
            } else {
                resultElement.textContent = "Такого ніка немає в списку гравців.";
            }

            checkCount++;

            if (checkCount === 3) {
                checkCaptcha();
                checkCount = 0; 
            }
        }

    
        function addPlayer() {
            const newNickname = document.getElementById("addNicknameInput").value;
            const resultElement = document.getElementById("result");

            if (newNickname) {
                playerNicknames.push(newNickname);
                resultElement.textContent = `Гравця з ніком "${newNickname}" додано до списку.`;
            } else {
                resultElement.textContent = "Будь ласка, введіть ім'я гравця для додавання.";
            }
        }
        
        window.onload = checkCaptcha;
    </script>
</body>
</html>
